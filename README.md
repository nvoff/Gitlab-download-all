# GitLab Group Cloner

Скрипт для массового клонирования (и обновления) всех репозиториев в группе GitLab (включая подгруппы).

Файл-скрипт: `download_gitlab_tags.py`

## Что делает

- Получает ID группы по её пути (namespace) через GitLab API.
- Сканирует все проекты в группе и подгруппах.
- Клонирует каждый репозиторий (или обновляет, если он уже клонирован).
- Создаёт локальные ветки для всех удалённых веток, которых нет локально.

## Требования

- Python 3.8+ (рекомендуется)
- Установленные пакеты:
  - requests
  - tqdm
- Установлён git и доступен в PATH.

Установить зависимости можно через pip:

```bash
python -m pip install --user requests tqdm
```

## Конфигурация

Откройте `download_gitlab_tags.py` и поправьте следующие константы сверху файла:

- `GITLAB_HOST` — хост вашего GitLab (например, `gitlab.example.com`).
- `GROUP` — путь группы (namespace), например `my-group` или `my-group/subgroup`.
- `TOKEN` — личный токен доступа (Personal Access Token) с правами чтения репозиториев (api).
- `CLONE_DIR` — корневая директория, в которую будут клонироваться репозитории (по умолчанию `./`).

Пример:

```python
GITLAB_HOST = "gitlab.example.com"
GROUP = "my-group/subgroup"
TOKEN = "glpat-xxxxxxxxxxxxxxxx"
CLONE_DIR = "/home/nikita/gitlab-clones"
```

Важно: не коммитьте ваш `TOKEN` в публичный репозиторий. Для безопасности используйте переменные окружения или внешний конфиг, если планируете публиковать проект.

## Запуск

Запустить скрипт можно напрямую:

```bash
python download_gitlab_tags.py
```

Если вы задали `CLONE_DIR`, перейдите в любую директорию — репозитории клонируются в указанную папку по пути `path_with_namespace`.

## Примеры использования

- Клонировать все репозитории группы `my-group` в текущую папку:

  1. Отредактируйте конфиг в файле: установите `GITLAB_HOST`, `GROUP`, `TOKEN`, оставьте `CLONE_DIR = "./"`.
  2. Запустите `python download_gitlab_tags.py`.

- Клонировать в конкретную папку (измените `CLONE_DIR`):

  ```python
  CLONE_DIR = "/srv/gitlab-repos"
  ```
